{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Mardani.Amirhosein/Desktop/Mook/Mook/MookAdmin/MookAdmin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MessageBoxComponent } from 'src/app/1.Essential-components/message-box/message-box.component';\nimport { date } from 'src/app/App-Services/date.service';\nimport { BookDetailsComponent } from 'src/app/Book/Component-book-details/book-details.component';\nimport { StudentSelectComponent } from '../Compenent-student-select/student-select.component';\nimport { BookSelectComponent } from '../Component-book-select/book-select.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/App-Services/data-service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = [\"table\"];\nconst _c1 = [\"invalid\"];\n\nfunction AddNewRequestComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.student.studentName);\n  }\n}\n\nfunction AddNewRequestComponent_ng_container_32_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const member_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(member_r5.bookName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(member_r5.publisher);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(member_r5.author);\n  }\n}\n\nfunction AddNewRequestComponent_ng_container_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddNewRequestComponent_ng_container_32_tr_1_Template, 7, 3, \"tr\", 22);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.book);\n  }\n}\n\nexport class AddNewRequestComponent {\n  constructor(dialogRef, dialog, data, dataService) {\n    this.dialogRef = dialogRef;\n    this.dialog = dialog;\n    this.data = data;\n    this.dataService = dataService;\n    this.DateNow = date.now();\n    this.student = undefined;\n    this.book = undefined;\n  }\n\n  openBookDetail(selectedBook) {\n    const dialogRef = this.dialog.open(BookDetailsComponent, {\n      data: {\n        'selectedBook': selectedBook\n      }\n    });\n  }\n\n  openChooseStudent() {\n    const dialogRef = this.dialog.open(StudentSelectComponent).afterClosed().subscribe(result => {\n      if (result !== null) {\n        this.invalid.nativeElement.classList.remove(\"text-invalid\");\n        this.student = result;\n      }\n    });\n  }\n\n  SaveOrder() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let validate = _this.validation();\n\n      if (validate) {\n        let reqDList = new Array();\n\n        _this.book.forEach(element => {\n          let reqD = {\n            bookID: element.bookID,\n            isDamaged: false,\n            isLost: false,\n            requestDetailDescription: \"\",\n            requestDetailID: 0,\n            requestHeaderID: 0,\n            books: element\n          };\n          reqDList.push(reqD);\n        });\n\n        let request = {\n          requestID: 0,\n          studentID: _this.student.studentID,\n          requestAcceptedDate: null,\n          isAccepted: false,\n          requestFinishedDate: null,\n          isDelayed: false,\n          delayDays: 0,\n          requestDecription: \"\",\n          createdDate: date.now(),\n          isDeleted: false,\n          requestDetails: reqDList,\n          students: _this.student\n        };\n        let result = yield _this.dataService.createRequest(request);\n\n        if (result) {\n          _this.dialog.open(MessageBoxComponent, {\n            data: {\n              message: _this.dataService.message.infoUpdatedSuccessfully\n            }\n          }).afterClosed().subscribe(result => {\n            _this.student = null;\n            _this.book = null;\n          });\n        }\n      }\n    })();\n  }\n\n  validation() {\n    console.log();\n    ;\n    let saveBool = this.book !== undefined && this.student !== undefined;\n    if (this.book === undefined) this.table.nativeElement.classList.add(\"invalid-table\");else this.table.nativeElement.classList.remove(\"invalid-table\");\n    if (this.student === undefined) this.invalid.nativeElement.classList.add(\"text-invalid\");else this.invalid.nativeElement.classList.remove(\"text-invalid\");\n    return saveBool;\n  }\n\n  openChooseBook() {\n    const dialogRef = this.dialog.open(BookSelectComponent).afterClosed().subscribe(result => {\n      if (result !== undefined) {\n        this.table.nativeElement.classList.remove(\"invalid-table\");\n\n        if (this.book == null) {\n          this.book = new Array();\n          this.book.push(result);\n        } else {\n          let duplicate = this.book.findIndex(x => x.bookID === result.bookID);\n\n          if (duplicate == -1) {\n            this.book.push(result);\n          }\n        }\n      }\n    });\n  }\n\n}\n\nAddNewRequestComponent.ɵfac = function AddNewRequestComponent_Factory(t) {\n  return new (t || AddNewRequestComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.DataService));\n};\n\nAddNewRequestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddNewRequestComponent,\n  selectors: [[\"app-add-new-request\"]],\n  viewQuery: function AddNewRequestComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.invalid = _t.first);\n    }\n  },\n  decls: 37,\n  vars: 3,\n  consts: [[1, \"book-re-main\", \"card\"], [1, \"book-re-header\", \"card-header\"], [1, \"header-svg\", \"card-svg\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M5.29007 21.3573L4.92221 22.0109L5.29007 21.3573ZM3.264 12.8995L4.00687 13.0026L3.264 12.8995ZM3.08927 18.8297L2.39129 19.1041L3.08927 18.8297ZM20.7361 12.8995L19.9932 13.0026L20.7361 12.8995ZM20.9108 18.8297L21.6088 19.1041L20.9108 18.8297ZM18.71 21.3573L19.0779 22.0109L18.71 21.3573ZM17.5079 6.45483L17.1953 7.13661L17.5079 6.45483ZM19.6396 8.31092L20.2719 7.90756L19.6396 8.31092ZM6.49219 6.45483L6.80473 7.13661L6.49219 6.45483ZM4.36049 8.31092L3.7282 7.90756L4.36049 8.31092ZM15.25 10C15.25 10.4142 15.5858 10.75 16 10.75C16.4142 10.75 16.75 10.4142 16.75 10H15.25ZM7.25003 10C7.25003 10.4142 7.58582 10.75 8.00003 10.75C8.41425 10.75 8.75003 10.4142 8.75003 10H7.25003ZM11.1879 6.75H12.8121V5.25H11.1879V6.75ZM12.8121 21.25H11.1879V22.75H12.8121V21.25ZM11.1879 21.25C9.58944 21.25 8.43827 21.2494 7.54245 21.1724C6.65402 21.0961 6.09452 20.9494 5.65793 20.7037L4.92221 22.0109C5.6276 22.4079 6.43173 22.5825 7.41409 22.6669C8.38906 22.7506 9.61584 22.75 11.1879 22.75V21.25ZM2.52113 12.7963C2.30486 14.3534 2.13545 15.5685 2.08427 16.5457C2.0327 17.5303 2.09509 18.3508 2.39129 19.1041L3.78725 18.5552C3.60392 18.089 3.53558 17.5146 3.58222 16.6241C3.62924 15.7262 3.78697 14.5859 4.00687 13.0026L2.52113 12.7963ZM5.65793 20.7037C4.80578 20.2241 4.14508 19.4653 3.78725 18.5552L2.39129 19.1041C2.87541 20.3353 3.76929 21.362 4.92221 22.0109L5.65793 20.7037ZM19.9932 13.0026C20.2131 14.5859 20.3708 15.7262 20.4179 16.6241C20.4645 17.5146 20.3961 18.089 20.2128 18.5552L21.6088 19.1041C21.905 18.3508 21.9674 17.5303 21.9158 16.5457C21.8646 15.5685 21.6952 14.3534 21.4789 12.7963L19.9932 13.0026ZM12.8121 22.75C14.3842 22.75 15.611 22.7506 16.586 22.6669C17.5683 22.5825 18.3725 22.4079 19.0779 22.0109L18.3421 20.7037C17.9056 20.9494 17.346 21.0961 16.4576 21.1724C15.5618 21.2494 14.4106 21.25 12.8121 21.25V22.75ZM20.2128 18.5552C19.855 19.4653 19.1943 20.2241 18.3421 20.7037L19.0779 22.0109C20.2308 21.362 21.1247 20.3353 21.6088 19.1041L20.2128 18.5552ZM21.4789 12.7963C21.3107 11.5848 21.1792 10.6345 21.0134 9.87347C20.8456 9.1033 20.6319 8.47195 20.2719 7.90756L19.0073 8.71429C19.2342 9.07006 19.399 9.51019 19.5478 10.1928C19.6985 10.8847 19.8218 11.7685 19.9932 13.0026L21.4789 12.7963ZM17.1953 7.13661C17.9385 7.47729 18.5676 8.02507 19.0073 8.71429L20.2719 7.90756C19.677 6.97509 18.8259 6.23397 17.8204 5.77306L17.1953 7.13661ZM4.00687 13.0026C4.17828 11.7685 4.30155 10.8847 4.4523 10.1928C4.60105 9.51019 4.76583 9.07006 4.99279 8.71429L3.7282 7.90756C3.36816 8.47195 3.15452 9.1033 2.98669 9.87347C2.82086 10.6345 2.68938 11.5848 2.52113 12.7963L4.00687 13.0026ZM6.17965 5.77306C5.17421 6.23397 4.32305 6.97509 3.7282 7.90756L4.99279 8.71429C5.43246 8.02507 6.06158 7.47728 6.80473 7.13661L6.17965 5.77306ZM12 1.75C13.795 1.75 15.25 3.20507 15.25 5H16.75C16.75 2.37665 14.6234 0.25 12 0.25V1.75ZM12 0.25C9.37668 0.25 7.25003 2.37665 7.25003 5H8.75003C8.75003 3.20507 10.2051 1.75 12 1.75V0.25ZM8.75003 10V6.08268H7.25003V10H8.75003ZM8.75003 6.08268V5H7.25003V6.08268H8.75003ZM11.1879 5.25C9.80591 5.25 8.75677 5.24902 7.92164 5.33679L8.07843 6.82857C8.81672 6.75098 9.77261 6.75 11.1879 6.75V5.25ZM7.92164 5.33679C7.26921 5.40536 6.70742 5.53112 6.17965 5.77306L6.80473 7.13661C7.13721 6.98419 7.52675 6.88655 8.07843 6.82857L7.92164 5.33679ZM15.25 5V6.08268H16.75V5H15.25ZM15.25 6.08268V10H16.75V6.08268H15.25ZM12.8121 6.75C14.2275 6.75 15.1833 6.75098 15.9216 6.82857L16.0784 5.33679C15.2433 5.24902 14.1941 5.25 12.8121 5.25V6.75ZM15.9216 6.82857C16.4733 6.88655 16.8629 6.98419 17.1953 7.13661L17.8204 5.77306C17.2927 5.53112 16.7309 5.40536 16.0784 5.33679L15.9216 6.82857Z\", \"fill\", \"#FAFAFA\"], [1, \"header-text\"], [1, \"book-re-body\", \"card-body\", \"h-70\"], [1, \"book-re-detail\"], [1, \"student-name\"], [1, \"student-name-text\", 3, \"click\"], [\"invalid\", \"\"], [\"class\", \"student-name-value\", 4, \"ngIf\"], [1, \"request-date\"], [1, \"request-date-text\"], [1, \"request-date-value\"], [1, \"book-re-table\"], [\"table\", \"\"], [4, \"ngIf\"], [1, \"book-re-footer\", \"card-footer\", 3, \"click\"], [1, \"book-re-accept\", \"button\"], [1, \"deny-text\"], [1, \"student-name-value\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function AddNewRequestComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(3, \"svg\", 3);\n      i0.ɵɵelement(4, \"path\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵtext(6, \"\\u062C\\u0632\\u0626\\u06CC\\u0627\\u062A \\u0633\\u0641\\u0627\\u0631\\u0634\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9, 10);\n      i0.ɵɵlistener(\"click\", function AddNewRequestComponent_Template_div_click_10_listener() {\n        return ctx.openChooseStudent();\n      });\n      i0.ɵɵtext(12, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0633\\u0641\\u0627\\u0631\\u0634 \\u062F\\u0647\\u0646\\u062F\\u0647\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, AddNewRequestComponent_div_13_Template, 2, 1, \"div\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 12)(15, \"div\", 13);\n      i0.ɵɵtext(16, \"\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0633\\u0641\\u0627\\u0631\\u0634: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 14);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 8)(20, \"div\", 9);\n      i0.ɵɵlistener(\"click\", function AddNewRequestComponent_Template_div_click_20_listener() {\n        return ctx.openChooseBook();\n      });\n      i0.ɵɵtext(21, \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u06A9\\u062A\\u0627\\u0628\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"table\", 15, 16)(24, \"thead\")(25, \"th\");\n      i0.ɵɵtext(26, \"\\u0646\\u0627\\u0645 \\u06A9\\u062A\\u0627\\u0628\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"\\u0627\\u0646\\u062A\\u0634\\u0627\\u0631\\u0627\\u062A\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\");\n      i0.ɵɵtext(30, \"\\u0646\\u0648\\u06CC\\u0633\\u0646\\u062F\\u0647\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"tbody\");\n      i0.ɵɵtemplate(32, AddNewRequestComponent_ng_container_32_Template, 2, 1, \"ng-container\", 17);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 18);\n      i0.ɵɵlistener(\"click\", function AddNewRequestComponent_Template_div_click_33_listener() {\n        return ctx.SaveOrder();\n      });\n      i0.ɵɵelementStart(34, \"div\", 19)(35, \"div\", 20);\n      i0.ɵɵtext(36, \"\\u062B\\u0628\\u062A \\u0633\\u0641\\u0627\\u0631\\u0634\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", ctx.student !== undefined);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.DateNow);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngIf\", ctx.book !== null);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\".book-re-main[_ngcontent-%COMP%] {\\n  font-family: \\\"IRANSans\\\";\\n  direction: rtl;\\n  height: 75vh;\\n  width: 60vw;\\n  background: #fff;\\n}\\n.book-re-body[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  direction: rtl;\\n  align-items: flex-start;\\n}\\n.book-re-header[_ngcontent-%COMP%] {\\n  height: 10%;\\n}\\n.book-re-footer[_ngcontent-%COMP%] {\\n  height: 20%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n  align-items: center;\\n}\\n.right-values[_ngcontent-%COMP%] {\\n  width: 30%;\\n}\\n.left-values[_ngcontent-%COMP%] {\\n  width: 60%;\\n}\\n.reg-svg-deny[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%]    > path[_ngcontent-%COMP%] {\\n  fill: red;\\n}\\n.book-re-deny[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 30%;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  border: 1px solid red;\\n  height: 50%;\\n  color: red;\\n}\\n.reg-svg-accept[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%]    > path[_ngcontent-%COMP%] {\\n  fill: green;\\n}\\n.book-re-accept[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 30%;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  border: 1px solid green;\\n  height: 50%;\\n  color: green;\\n}\\n.book-re-accept[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%], .book-re-deny[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  padding: 1px 1px;\\n}\\n.book-re-table[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  width: 85%;\\n  align-items: stretch;\\n  background: rgba(0, 0, 0, 0.0509803922);\\n}\\n.book-re-table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid #8055E0;\\n  padding: 3px 20px;\\n  margin-bottom: 5px;\\n  display: flex;\\n  justify-content: space-around;\\n}\\n.book-re-table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%] {\\n  overflow: scroll;\\n}\\n.book-re-table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 5px 5px;\\n  margin: 5px 5px;\\n  border-radius: 25px;\\n  width: calc(100% - 20px);\\n}\\n.book-re-table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\\n  text-align: center;\\n  width: 50%;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.book-re-table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #a698ff;\\n  cursor: pointer;\\n}\\n.book-re-body[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  direction: rtl;\\n}\\n.book-re-detail[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 15%;\\n  flex-direction: column;\\n  height: 100%;\\n  justify-content: space-evenly;\\n}\\n.student-name[_ngcontent-%COMP%], .request-date[_ngcontent-%COMP%] {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.student-name[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%], .request-date[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  padding: 5px 5px;\\n  text-align: center;\\n  margin: 1px 10px;\\n  border-radius: 25px;\\n}\\n.student-name-text[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  background-color: #a698ff;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcU3R5bGVzXFxWYXJpYWJsZXMuc2NzcyIsImFkZC1uZXctcmVxdWVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFBO0FBWUEsU0FBQTtBQUtBLFFBQUE7QUFPQSxVQUFBO0FBUUMsUUFBQTtBQUlBLE1BQUE7QUNsQ0Q7RUFDSSx1QkRlSztFQ2RMLGNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FBS0o7QUFGQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLGNBQUE7RUFDQSx1QkFBQTtBQUtKO0FBRkE7RUFDSSxXQUFBO0FBS0o7QUFGQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0FBS0o7QUFGQTtFQUNJLFVBQUE7QUFLSjtBQUZBO0VBQ0ksVUFBQTtBQUtKO0FBRkE7RUFDSSxTQUFBO0FBS0o7QUFGQTtFQUNJLGFBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtBQUtKO0FBRkE7RUFDSSxXQUFBO0FBS0o7QUFGQTtFQUNJLGFBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUtKO0FBRkE7O0VBRUksZ0JBQUE7QUFLSjtBQUZBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxvQkFBQTtFQUNBLHVDQUFBO0FBS0o7QUFGQTtFQUNJLGdDQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtBQUtKO0FBRkE7RUFDSSxnQkFBQTtBQUtKO0FBSEk7RUFDSSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkR0RlE7RUN1RlIsd0JBQUE7QUFLUjtBQUZJO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUlSO0FBREk7RUFDSSx5QkQzR1c7RUM0R1gsZUFBQTtBQUdSO0FBRUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLGNBQUE7QUFDSjtBQUVBO0VBQ0ksYUFBQTtFQUNBLFVBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtBQUNKO0FBRUE7O0VBRUksZ0JBQUE7RUFFQSxhQUFBO0VBQ0Esc0JBQUE7QUFBSjtBQUdBOztFQUVJLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CRHBJWTtBQ29JaEI7QUFHQTtFQUNJLGVBQUE7RUFDQSx5QkRsSmU7RUNtSmYsWUFBQTtBQUFKIiwiZmlsZSI6ImFkZC1uZXctcmVxdWVzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qY29sb3JzKi9cclxuJHByaW1hcnlDb2xvcjogIzZmNmFmODtcclxuJGNhcmRDb2xvcjogIzc1NTdlMDtcclxuJGJ1dHRvbkNvbG9yOiAjODA1NUUwO1xyXG4kYnV0dG9uSG92ZXJDb2xvcjogI2E2OThmZjtcclxuJGZpZnRoQ29sb3I6ICM2MEFERkM7XHJcbiRsaWdodEJsYWNrU2hhZG93OiMwMDAwMDAyNjtcclxuJGRhcmtCbGFja1NoYWRvdzojMDAwMDAwM2I7XHJcbiRpY29uSG92ZXJPblByaW1hcnk6Izc5NzVlZTtcclxuJHN2Z0ZpbGxPbkhvdmVyUHJpbWFyeTojZmZmZmZmOTE7XHJcbiRiYWNrZ3JvdW5kR3JhZGllbnQ6bGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDExMSwxMDYsMjQ4LDAuNykgMCUsIHJnYmEoMTE3LDg3LDIyNCwwLjcpIDI5JSwgcmdiYSgxMjgsODUsMjI0LDAuNykgNDclLCByZ2JhKDE2NiwxNTIsMjU1LDAuNjk1MTE1NTQ2MjE4NDg3NCkgMTAwJSk7XHJcblxyXG4vKnJhZGl1cyovXHJcbiRib3JkZXItcmFkaXVzOiAyNXB4O1xyXG4kYm9yZGVyLWxlc3MtcmFkaXVzOjEwcHg7XHJcbiRib3JkZXItbGlnaHQtcmFkaXVzOjVweDtcclxuXHJcbi8qZm9udHMqL1xyXG4kcmVndWxhcjonSVJBTlNhbnMnO1xyXG4kQm9sZDonSVJBTlNhbnNfQm9sZCc7XHJcbiRsaWdodDonSVJBTlNhbnNfTGlnaHQnO1xyXG4kVWx0cmFMaWdodDonSVJBTlNhbnNfVWx0cmFMaWdodCc7XHJcbiRmb250LXNpemU6MTZweDtcclxuXHJcbi8qZGVza0JhciovXHJcbiAkZGVza0JhcldpZHRoOjYlO1xyXG4gJGRlc2tCYXJNYXJnaW5Ub3A6MjBweDtcclxuICRkZXNrQmFyTWFyZ2luQm90dG9tOjIwcHg7XHJcbiAkZGVza0Jhck1hcmdpblJpZ2h0OjEwcHg7XHJcbiAkZGVza0Jhck1hcmdpbkxlZnQ6MTBweDtcclxuXHJcblxyXG4gLypzaXplcyovXHJcbiAkbWFpbkhlaWdodDo5M3ZoO1xyXG5cclxuXHJcbiAvKmltZyovXHJcbiAkbG9naW4taW1nIDogXCIvYXNzZXRzL2ltZy9sb2dpbi1pbWcucG5nXCI7IiwiQGltcG9ydCAnc3JjL2FwcC9TdHlsZXMvVmFyaWFibGVzLnNjc3MnO1xyXG5cclxuLmJvb2stcmUtbWFpbiB7XHJcbiAgICBmb250LWZhbWlseTogJHJlZ3VsYXI7XHJcbiAgICBkaXJlY3Rpb246IHJ0bDtcclxuICAgIGhlaWdodDogNzV2aDtcclxuICAgIHdpZHRoOiA2MHZ3O1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcclxufVxyXG5cclxuLmJvb2stcmUtYm9keSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICBkaXJlY3Rpb246IHJ0bDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG59XHJcblxyXG4uYm9vay1yZS1oZWFkZXIge1xyXG4gICAgaGVpZ2h0OiAxMCU7XHJcbn1cclxuXHJcbi5ib29rLXJlLWZvb3RlciB7XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4ucmlnaHQtdmFsdWVzIHtcclxuICAgIHdpZHRoOiAzMCU7XHJcbn1cclxuXHJcbi5sZWZ0LXZhbHVlcyB7XHJcbiAgICB3aWR0aDogNjAlO1xyXG59XHJcblxyXG4ucmVnLXN2Zy1kZW55PnN2Zz5wYXRoIHtcclxuICAgIGZpbGw6IHJlZDtcclxufVxyXG5cclxuLmJvb2stcmUtZGVueSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbiAgICBoZWlnaHQ6IDUwJTtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi5yZWctc3ZnLWFjY2VwdD5zdmc+cGF0aCB7XHJcbiAgICBmaWxsOiBncmVlbjtcclxufVxyXG5cclxuLmJvb2stcmUtYWNjZXB0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMzAlO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyZWVuO1xyXG4gICAgaGVpZ2h0OiA1MCU7XHJcbiAgICBjb2xvcjogZ3JlZW47XHJcbn1cclxuXHJcbi5ib29rLXJlLWFjY2VwdD5kaXYsXHJcbi5ib29rLXJlLWRlbnk+ZGl2IHtcclxuICAgIHBhZGRpbmc6IDFweCAxcHg7XHJcbn1cclxuXHJcbi5ib29rLXJlLXRhYmxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDg1JTtcclxuICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xyXG4gICAgYmFja2dyb3VuZDogIzAwMDAwMDBkO1xyXG59XHJcblxyXG4uYm9vay1yZS10YWJsZT50aGVhZCB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzgwNTVFMDtcclxuICAgIHBhZGRpbmc6IDNweCAyMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG59XHJcblxyXG4uYm9vay1yZS10YWJsZT50Ym9keSB7XHJcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xyXG5cclxuICAgIHRyIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCA1cHg7XHJcbiAgICAgICAgbWFyZ2luOiA1cHggNXB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTtcclxuICAgIH1cclxuXHJcbiAgICB0cj50ZCB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgfVxyXG5cclxuICAgIHRyOmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYnV0dG9uSG92ZXJDb2xvcjtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4uYm9vay1yZS1ib2R5IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICBkaXJlY3Rpb246IHJ0bDtcclxufVxyXG5cclxuLmJvb2stcmUtZGV0YWlsIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMTUlO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG59XHJcblxyXG4uc3R1ZGVudC1uYW1lLFxyXG4ucmVxdWVzdC1kYXRlIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAvLyBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnN0dWRlbnQtbmFtZT5kaXYsXHJcbi5yZXF1ZXN0LWRhdGU+ZGl2IHtcclxuICAgIHBhZGRpbmc6IDVweCA1cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDFweCAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbn1cclxuXHJcbi5zdHVkZW50LW5hbWUtdGV4dDpob3ZlciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYnV0dG9uSG92ZXJDb2xvcjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MAT_DIALOG_DATA","MessageBoxComponent","date","BookDetailsComponent","StudentSelectComponent","BookSelectComponent","i0","AddNewRequestComponent","constructor","dialogRef","dialog","data","dataService","now","undefined","openBookDetail","selectedBook","open","openChooseStudent","afterClosed","subscribe","result","invalid","nativeElement","classList","remove","student","SaveOrder","validate","validation","reqDList","Array","book","forEach","element","reqD","bookID","isDamaged","isLost","requestDetailDescription","requestDetailID","requestHeaderID","books","push","request","requestID","studentID","requestAcceptedDate","isAccepted","requestFinishedDate","isDelayed","delayDays","requestDecription","createdDate","isDeleted","requestDetails","students","createRequest","message","infoUpdatedSuccessfully","console","log","saveBool","table","add","openChooseBook","duplicate","findIndex","x","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Mardani.Amirhosein\\Desktop\\Mook\\Mook\\MookAdmin\\MookAdmin\\src\\app\\Main\\Component-add-new-request\\add-new-request.component.ts","C:\\Users\\Mardani.Amirhosein\\Desktop\\Mook\\Mook\\MookAdmin\\MookAdmin\\src\\app\\Main\\Component-add-new-request\\add-new-request.component.html"],"sourcesContent":["import { Component, ElementRef, Inject, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MessageBoxComponent } from 'src/app/1.Essential-components/message-box/message-box.component';\nimport { YesNoMsgboxComponent } from 'src/app/1.Essential-components/yes-no-msgbox/yes-no-msgbox.component';\nimport { DataService } from 'src/app/App-Services/data-service';\nimport { date } from 'src/app/App-Services/date.service';\nimport { IBook } from 'src/app/App-Services/Models/IBook';\nimport { IRequestD, IRequestDetailViewModel, IRequestViewModel } from 'src/app/App-Services/Models/IRequestH';\nimport { IStudent } from 'src/app/App-Services/Models/IStudent';\nimport { BookDetailsComponent } from 'src/app/Book/Component-book-details/book-details.component';\nimport { BookRequestComponent } from 'src/app/Book/Component-book-request-details/book-request.component';\nimport { BookRequestListComponent } from 'src/app/Book/Component-book-request-list/book-request-list.component';\nimport { StudentDetailsComponent } from 'src/app/Student/Component-student-details/student-details.component';\nimport { StudentSelectComponent } from '../Compenent-student-select/student-select.component';\nimport { BookSelectComponent } from '../Component-book-select/book-select.component';\n\n@Component({\n  selector: 'app-add-new-request',\n  templateUrl: './add-new-request.component.html',\n  styleUrls: ['./add-new-request.component.scss']\n})\nexport class AddNewRequestComponent {\n  constructor(public dialogRef: MatDialogRef<BookRequestComponent>,\n    private dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private dataService: DataService) {\n  }\n\n  @ViewChild(\"table\", { static: true }) table: ElementRef;\n  @ViewChild(\"invalid\", { static: true }) invalid: ElementRef;\n\n  public DateNow = date.now();\n  public student: IStudent = undefined;\n  public book: IBook[] = undefined;\n\n  openBookDetail(selectedBook: IBook) {\n    const dialogRef = this.dialog.open(BookDetailsComponent, { data: { 'selectedBook': selectedBook } });\n  }\n  openChooseStudent() {\n    const dialogRef = this.dialog.open(StudentSelectComponent).afterClosed().subscribe(result => {\n      if (result !== null) {\n        this.invalid.nativeElement.classList.remove(\"text-invalid\")\n        this.student = result\n      }\n\n    });\n  }\n  async SaveOrder() {\n    let validate = this.validation();\n\n    if (validate) {\n\n      let reqDList: IRequestDetailViewModel[] = new Array\n      this.book.forEach(element => {\n        let reqD: IRequestDetailViewModel = {\n          bookID: element.bookID,\n          isDamaged: false,\n          isLost: false,\n          requestDetailDescription: \"\",\n          requestDetailID: 0,\n          requestHeaderID: 0,\n          books: element\n        }\n        reqDList.push(reqD);\n      });\n\n\n      let request: IRequestViewModel = {\n        requestID: 0,\n        studentID: this.student.studentID,\n        requestAcceptedDate: null,\n        isAccepted: false,\n        requestFinishedDate: null,\n        isDelayed: false,\n        delayDays: 0,\n        requestDecription: \"\",\n        createdDate: date.now(),\n        isDeleted: false,\n        requestDetails: reqDList,\n        students: this.student\n      };\n\n      let result = await this.dataService.createRequest(request);\n\n      if (result) {\n        this.dialog.open(MessageBoxComponent, { data: { message: this.dataService.message.infoUpdatedSuccessfully } })\n          .afterClosed().subscribe(result => {\n            this.student = null;\n            this.book = null;\n          })\n      }\n    }\n  }\n\n  validation() {\nconsole.log());\n\n    let saveBool: boolean = this.book !== undefined && this.student !== undefined\n\n    if (this.book === undefined) this.table.nativeElement.classList.add(\"invalid-table\"); else this.table.nativeElement.classList.remove(\"invalid-table\");\n    if (this.student === undefined) this.invalid.nativeElement.classList.add(\"text-invalid\"); else this.invalid.nativeElement.classList.remove(\"text-invalid\");\n\n    return saveBool;\n  }\n\n  openChooseBook() {\n    const dialogRef = this.dialog.open(BookSelectComponent).afterClosed().subscribe(result => {\n\n      if (result !== undefined) {\n\n        this.table.nativeElement.classList.remove(\"invalid-table\")\n\n        if (this.book == null) {\n          this.book = new Array;\n          this.book.push(result);\n        } else {\n          let duplicate = this.book.findIndex(x => x.bookID === result.bookID);\n\n          if (duplicate == -1) {\n            this.book.push(result);\n          }\n        }\n      }\n\n    });\n  }\n\n}\n","<div class=\"book-re-main card\">\n    <div class=\"book-re-header card-header\">\n        <div class=\"header-svg card-svg\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                    d=\"M5.29007 21.3573L4.92221 22.0109L5.29007 21.3573ZM3.264 12.8995L4.00687 13.0026L3.264 12.8995ZM3.08927 18.8297L2.39129 19.1041L3.08927 18.8297ZM20.7361 12.8995L19.9932 13.0026L20.7361 12.8995ZM20.9108 18.8297L21.6088 19.1041L20.9108 18.8297ZM18.71 21.3573L19.0779 22.0109L18.71 21.3573ZM17.5079 6.45483L17.1953 7.13661L17.5079 6.45483ZM19.6396 8.31092L20.2719 7.90756L19.6396 8.31092ZM6.49219 6.45483L6.80473 7.13661L6.49219 6.45483ZM4.36049 8.31092L3.7282 7.90756L4.36049 8.31092ZM15.25 10C15.25 10.4142 15.5858 10.75 16 10.75C16.4142 10.75 16.75 10.4142 16.75 10H15.25ZM7.25003 10C7.25003 10.4142 7.58582 10.75 8.00003 10.75C8.41425 10.75 8.75003 10.4142 8.75003 10H7.25003ZM11.1879 6.75H12.8121V5.25H11.1879V6.75ZM12.8121 21.25H11.1879V22.75H12.8121V21.25ZM11.1879 21.25C9.58944 21.25 8.43827 21.2494 7.54245 21.1724C6.65402 21.0961 6.09452 20.9494 5.65793 20.7037L4.92221 22.0109C5.6276 22.4079 6.43173 22.5825 7.41409 22.6669C8.38906 22.7506 9.61584 22.75 11.1879 22.75V21.25ZM2.52113 12.7963C2.30486 14.3534 2.13545 15.5685 2.08427 16.5457C2.0327 17.5303 2.09509 18.3508 2.39129 19.1041L3.78725 18.5552C3.60392 18.089 3.53558 17.5146 3.58222 16.6241C3.62924 15.7262 3.78697 14.5859 4.00687 13.0026L2.52113 12.7963ZM5.65793 20.7037C4.80578 20.2241 4.14508 19.4653 3.78725 18.5552L2.39129 19.1041C2.87541 20.3353 3.76929 21.362 4.92221 22.0109L5.65793 20.7037ZM19.9932 13.0026C20.2131 14.5859 20.3708 15.7262 20.4179 16.6241C20.4645 17.5146 20.3961 18.089 20.2128 18.5552L21.6088 19.1041C21.905 18.3508 21.9674 17.5303 21.9158 16.5457C21.8646 15.5685 21.6952 14.3534 21.4789 12.7963L19.9932 13.0026ZM12.8121 22.75C14.3842 22.75 15.611 22.7506 16.586 22.6669C17.5683 22.5825 18.3725 22.4079 19.0779 22.0109L18.3421 20.7037C17.9056 20.9494 17.346 21.0961 16.4576 21.1724C15.5618 21.2494 14.4106 21.25 12.8121 21.25V22.75ZM20.2128 18.5552C19.855 19.4653 19.1943 20.2241 18.3421 20.7037L19.0779 22.0109C20.2308 21.362 21.1247 20.3353 21.6088 19.1041L20.2128 18.5552ZM21.4789 12.7963C21.3107 11.5848 21.1792 10.6345 21.0134 9.87347C20.8456 9.1033 20.6319 8.47195 20.2719 7.90756L19.0073 8.71429C19.2342 9.07006 19.399 9.51019 19.5478 10.1928C19.6985 10.8847 19.8218 11.7685 19.9932 13.0026L21.4789 12.7963ZM17.1953 7.13661C17.9385 7.47729 18.5676 8.02507 19.0073 8.71429L20.2719 7.90756C19.677 6.97509 18.8259 6.23397 17.8204 5.77306L17.1953 7.13661ZM4.00687 13.0026C4.17828 11.7685 4.30155 10.8847 4.4523 10.1928C4.60105 9.51019 4.76583 9.07006 4.99279 8.71429L3.7282 7.90756C3.36816 8.47195 3.15452 9.1033 2.98669 9.87347C2.82086 10.6345 2.68938 11.5848 2.52113 12.7963L4.00687 13.0026ZM6.17965 5.77306C5.17421 6.23397 4.32305 6.97509 3.7282 7.90756L4.99279 8.71429C5.43246 8.02507 6.06158 7.47728 6.80473 7.13661L6.17965 5.77306ZM12 1.75C13.795 1.75 15.25 3.20507 15.25 5H16.75C16.75 2.37665 14.6234 0.25 12 0.25V1.75ZM12 0.25C9.37668 0.25 7.25003 2.37665 7.25003 5H8.75003C8.75003 3.20507 10.2051 1.75 12 1.75V0.25ZM8.75003 10V6.08268H7.25003V10H8.75003ZM8.75003 6.08268V5H7.25003V6.08268H8.75003ZM11.1879 5.25C9.80591 5.25 8.75677 5.24902 7.92164 5.33679L8.07843 6.82857C8.81672 6.75098 9.77261 6.75 11.1879 6.75V5.25ZM7.92164 5.33679C7.26921 5.40536 6.70742 5.53112 6.17965 5.77306L6.80473 7.13661C7.13721 6.98419 7.52675 6.88655 8.07843 6.82857L7.92164 5.33679ZM15.25 5V6.08268H16.75V5H15.25ZM15.25 6.08268V10H16.75V6.08268H15.25ZM12.8121 6.75C14.2275 6.75 15.1833 6.75098 15.9216 6.82857L16.0784 5.33679C15.2433 5.24902 14.1941 5.25 12.8121 5.25V6.75ZM15.9216 6.82857C16.4733 6.88655 16.8629 6.98419 17.1953 7.13661L17.8204 5.77306C17.2927 5.53112 16.7309 5.40536 16.0784 5.33679L15.9216 6.82857Z\"\n                    fill=\"#FAFAFA\" />\n            </svg>\n        </div>\n        <div class=\"header-text\">جزئیات سفارش</div>\n    </div>\n    <div class=\"book-re-body card-body h-70\">\n        <div class=\"book-re-detail\">\n            <div class=\"student-name\">\n                <div #invalid class=\"student-name-text\" (click)=\"openChooseStudent()\">انتخاب سفارش دهنده</div>\n                <div *ngIf=\"student !== undefined\" class=\"student-name-value\">{{student.studentName}}</div>\n            </div>\n            <div class=\"request-date\">\n                <div class=\"request-date-text\">تاریخ سفارش: </div>\n                <div class=\"request-date-value\">{{DateNow}}</div>\n            </div>\n            <div class=\"student-name\">\n                <div  class=\"student-name-text\" (click)=\"openChooseBook()\">افزودن کتاب</div>\n            </div>\n\n        </div>\n        <table #table class=\"book-re-table\">\n            <thead>\n                <th>نام کتاب</th>\n                <th>انتشارات</th>\n                <th>نویسنده</th>\n            </thead>\n            <tbody>\n                <ng-container *ngIf=\"book !== null\">\n                    <tr *ngFor=\"let member of book\">\n                        <td>{{member.bookName}}</td>\n                        <td>{{member.publisher}}</td>\n                        <td>{{member.author}}</td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"book-re-footer card-footer\" (click)=\"SaveOrder()\">\n        <div class=\"book-re-accept button\">\n            <div class=\"deny-text\">ثبت سفارش</div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}